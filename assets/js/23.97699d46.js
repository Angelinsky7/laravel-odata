(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{417:function(e,t,a){"use strict";a.r(t);var s=a(27),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"expressions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#expressions"}},[e._v("#")]),e._v(" Expressions")]),e._v(" "),a("p",[e._v("Lodata contains an expression parser in "),a("code",[e._v("\\Flat3\\Lodata\\Expression")]),e._v(" that handles both "),a("code",[e._v("$search")]),e._v(" and "),a("code",[e._v("$filter")]),e._v(" expressions. The\nparser decodes the incoming expression into an "),a("a",{attrs:{href:"https://en.m.wikipedia.org/wiki/Abstract_syntax_tree",target:"_blank",rel:"noopener noreferrer"}},[e._v("abstract syntax tree"),a("OutboundLink")],1),e._v(". During\nentity set query processing the entity set driver will be passed every element of the tree in the correct parsing order, enabling it\nto convert the OData query into a native query such as an SQL query.")]),e._v(" "),a("p",[e._v('Because not every possible OData function or operation is supported by every Laravel database driver, or the internal semantics of the\nunderlying database do not support the required data types, then a "Not Supported" exception may be thrown by some database drivers\nand not others.')]),e._v(" "),a("p",[e._v("The OData specification describes that the behaviour of the "),a("code",[e._v("$search")]),e._v(" system query parameter is application-specific. Simple support\nfor converting "),a("code",[e._v("$search")]),e._v(" to a series of "),a("code",[e._v("field LIKE %param%")]),e._v(" requests is available.")]),e._v(" "),a("p",[e._v("The properties that should be used in search queries can be \"tagged\" using this example. Here the entity type 'airport' is retrieved,\nwhich may have been generated via autodiscovery. The 'name' property is also retrieved, and its 'searchable' property is updated.")]),e._v(" "),a("div",{staticClass:"language-php line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$airportType")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token class-name static-context"}},[e._v("Lodata")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("::")]),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("getEntityType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[e._v("'airport'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$airportType")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("getProperty")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[e._v("'name'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("setSearchable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br")])]),a("p",[e._v("Any property marked in this way is added to the query by the SQL driver.")]),e._v(" "),a("p",[e._v("The behaviour of both the "),a("code",[e._v("$search")]),e._v(" and "),a("code",[e._v("$filter")]),e._v(" parameters can be overridden by extending the driver class, and the relevant methods.")])])}),[],!1,null,null,null);t.default=r.exports}}]);